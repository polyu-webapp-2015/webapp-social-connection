#!/usr/bin/env bash
echo '<?php'
echo '/** @remark this is auto-generated file, do not edit'
echo ' * generated by bash script'
echo ' * */'
echo ''
echo 'class '$1'Enum'
echo '{'
echo '    const _ = "'$1'";'
cat ../webapp-server/app/models/idl/social_connection/$1Enum.java  | grep 'final' | grep -v idl | sed 's/public static final int/  const/g'
echo ''
echo '    public static function getString($number)'
echo '    {'
cat ../webapp-server/app/models/idl/social_connection/$1Enum.java | grep 'final' | grep 'idl' | awk '{print "        if ($number == self::_"$5") return \""$5"\";" }'
echo '        return "Unknown";'
echo '    }'
#cat ../webapp-server/app/models/idl/social_connection/$1Enum.java | grep 'final' | grep 'idl' | awk '{print "    const _"$5" = \""$5"\";" }'
echo '}'
