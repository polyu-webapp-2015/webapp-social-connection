
<div ng-controller="RegisterCtrl">
  <!-- the scope of "RegisterCtrl" should be a child of the scope of "MainCtrl" -->
  <div class="modal-header">
  	<button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()">&times;</button>
<!-- method "closeModal()" inheritated from its parent scope -->
  	<h4 class="modal-title">Create User</h4>
  </div>			<!-- /modal-header -->
  <form id="registerForm" name="registerForm" role="form" ng-submit="submit()" autocomplete="off">
  <div class="modal-body">
    <div class="form-group" ng-class="{'has-error': !usernameUnique, 'has-feedback': usernameChecked, 'has-success': usernameUnique && usernameChecked}">
  	  <label for="username">Username: </label>
  	  <input type="text" class="form-control" id="username" name="username" ng-model="username" ng-blur="checkUsername()" placeholder="Email or mobile number" required/>
      <span class="form-control-feedback" ng-class="{'glyphicon glyphicon-ok': usernameUnique, 'glyphicon glyphicon-remove': !usernameUnique}" ng-show="usernameChecked"></span>
      <span class="help-block" ng-show="(!usernameUnique) && usernameChecked">The username has been taken. Please change to another one.</span>
    </div>
    <div class="form-group" ng-class="{'has-success has-feedback': password_valid && registerForm.pwd.$touched && registerForm.pwd.$dirty, 'has-error has-feedback': !password_valid && registerForm.pwd.$touched && registerForm.pwd.$dirty}">
      <label for="pwd">Password: </label>
    	<input type="password" class="form-control" id="pwd" name="pwd" ng-model="password" ng-blur="checkPassword()" ng-change="logi()" placeholder="Enter password (6-15 characters)" required>
    	<span class="form-control-feedback" ng-class="{'glyphicon glyphicon-ok': password_valid, 'glyphicon glyphicon-remove': !password_valid}" ng-show="registerForm.pwd.$touched && registerForm.pwd.$dirty"></span>
    	<span class="help-block" ng-show="!password_valid && (registerForm.pwd.$touched && registerForm.pwd.$dirty)">Your password should consist of 6-15 characters</span>
    </div>
    <div class="form-group" ng-class="{'has-success has-feedback': re_password_valid && registerForm.re_pwd.$touched && registerForm.pwd.$dirty && registerForm.re_pwd.$dirty, 'has-error has-feedback': !re_password_valid && (registerForm.re_pwd.$touched && registerForm.re_pwd.$dirty && registerForm.pwd.$dirty)}">
      <label for="re_pwd">Retype Password: </label>
    	<input type="password" class="form-control" id="re_pwd" name="re_pwd" ng-model="re_password" ng-blur="checkPassword()" placeholder="Retype your password" ng-change="onChangeRePwd()" required/>
    	<span class="form-control-feedback" ng-class="{'glyphicon glyphicon-ok': re_password_valid, 'glyphicon glyphicon-remove': !re_password_valid}" ng-show="registerForm.re_pwd.$touched && registerForm.re_pwd.$dirty && registerForm.pwd.$dirty"></span>
    </div>
    <div class="form-group">
    <label for="first_name">First Name: </label>
    <input type="text" class="form-control" id="first_name" name="first_name" ng-model="first_name" placeholder="Enter the user's first name here..." required/>
    </div>
    <div class="form-group">
    <label for="last_name">Last Name: </label>
    <input type="text" class="form-control" id="last_name" name="last_name" ng-model="last_name" placeholder="Enter the user's last name here..." required/>
    </div>

    <div class="form-group">
      <label for="account_type">Account Type:</label>
      <select class="form-control" name="account_type" id="account_type" ng-model="account_type">
        <option value="admin">Administrator</option>
        <option value="attendee">Attendee </option>
        <option value="speaker">Speaker</option>
      </select>
    </div>
    <div>
        <input type="radio" name="sex" value="M" ng-model="sex" checked> Male      
        <input type="radio" name="sex" value="F" ng-model="sex"> Female
    </div>
  </div>			<!-- /modal-body -->
  <div class="modal-footer">
  	<button class="btn btn-sm my-btn my-btn-round" type="submit">Create</button>
  	<a class="btn btn-sm btn-default" ng-click="closeModal()">Close</a>
  </div>			<!-- /modal-footer -->
  </form>
</div>
